# Assignment 1 – Implementation Status and Unit Test Summary  
**Name:** Chuyi Iris Qin  
**Student ID:** 20350836  
**Group:** 4 (TA: Fozle Shafi)  

---

## 1. Project Implementation Status  

The following table summarizes the current implementation status of the system functions. Each row specifies whether the functionality is **complete**, **partial**, or **not implemented**, along with notes on missing or incomplete features.

| Function Name       | Implementation Status | Notes / Missing Features |
|---------------------|-----------------------|--------------------------|
| **Catalog**         | Complete              | Displays books with correct information: Book ID, Title, Author, ISBN, Available/Total copies. Handles empty catalog gracefully. |
| **Add Book**        | Complete              | Validation implemented for empty/too long fields, ISBN format, total copies. Correctly updates catalog on success. |
| **Borrow Book**     | Complete              | Functionality works, including validation for Patron ID (6 digits), available copies, and max borrow limit (5). Updates catalog and patron records accordingly. |
| **Return Book**     | Not Implemented       | UI button exists, but backend functionality is missing. Needs borrower verification, available copies update, return date tracking, and late fee integration. |
| **Search Books**    | Not Implemented       | UI present, but no backend logic. Missing search by title/author/ISBN, case-insensitivity, and formatted result display. |
| **Delete Book**     | Not Implemented       | No user interface or backend function to remove books from catalog. |
| **Database Management** | Partial           | Basic add book persists data, but no evidence of transaction handling, robust error catching, or patron–book relationship tracking (e.g., borrowed/returned logs). |

---

## 2. Unit Test Summary  

Unit tests were implemented using the Python `pytest` framework for all functionalities specified in `requirements_specification.md`. Tests are stored in the `tests/` folder, with **separate files per requirement (R1–R7)**. Each function has at least 4–5 test cases covering **positive scenarios** (valid inputs, expected behavior) and **negative scenarios** (invalid inputs, edge cases, error handling).

---

### R1: Book Catalog Management  
- **File:** `tests/test_add_book_R1.py`  
- **Coverage:**  
  - Adding valid books with correct metadata  
  - Rejecting invalid inputs: empty/too long title or author  
  - Invalid ISBN formats (non-digit, incorrect length)  
  - Validating `total_copies` must be > 0  
- **Result:** ✅ All tests passed  

---

### R2: Book Catalog Display  
- **File:** `tests/test_catalog_display_full_R2.py`  
- **Coverage:**  
  - Display empty catalog with clear message  
  - Display single book correctly with all required fields  
  - Display multiple books consistently with formatted output  
  - Borrow button logic: visible only if copies available  
  - Handling unexpected/invalid book records gracefully  
- **Result:** ✅ All tests passed  

---

### R3: Borrow Book Functionality  
- **File:** `tests/test_borrowing_R3.py`  
- **Coverage:**  
  - Borrowing available books successfully updates records  
  - Invalid Patron ID rejected  
  - Borrowing a non-existent book rejected  
  - Borrowing with no available copies blocked  
  - Enforcing maximum borrow limit (5 books)  
- **Result:** ✅ All tests passed  

---

### R4: Return Book Functionality  
- **File:** `tests/test_return_book_R4.py`  
- **Coverage:**  
  - Functionality not yet implemented  
  - Placeholder tests added for valid and invalid returns  
  - Tests marked as **skipped** pending implementation  
- **Result:** ⚠️ 1 passed, 4 skipped  

---

### R5: Late Fee Calculation  
- **File:** `tests/test_api_R5.py`  
- **Coverage:**  
  - No fee for on-time returns  
  - Correct fee for books overdue <7 days  
  - Correct fee for books overdue >7 days  
  - Late fee correctly capped at maximum allowed  
- **Result:** ✅ All tests passed  

---

### R6: Search Books in Catalog  
- **File:** `tests/test_api_search_R6.py`  
- **Coverage:**  
  - Search by exact and partial title  
  - Search by exact and partial author name  
  - Search by ISBN (exact match)  
  - Empty query handled safely  
- **Result:** ✅ All tests passed  

---

### R7: Patron Status Report  
- **File:** `tests/test_patron_status_R7.py`  
- **Coverage:**  
  - Patron with multiple borrowed books displayed correctly  
  - Patron with overdue books and late fees displayed  
  - Patron with no borrowed books shows empty status  
- **Result:** ✅ All tests passed  

---

## 3. Overall Test Results  
- **Total Tests:** 43  
- **Passed:** 39  
- **Skipped:** 4 (R4 not implemented)  
- **Failed:** 0  

**Additional Notes:**  
- Helper function `unique_isbn()` ensures test data uniqueness and prevents conflicts.  
- R1–R3 and R5–R7 are fully verified against requirements.  
- R4 functionality is pending and tests are marked accordingly.  
- R2 tests place emphasis on catalog display correctness: Book ID, Title, Author, ISBN, Available/Total copies, and borrow button logic.  

---

